### MODULE: Booking Income Rules, Routing & Commission Structure

ğŸ¡ Property-Based Booking Income Routing:
- Each property has default payout rules for each OTA:
  â€¢ Airbnb: split payout (e.g., Owner 70% / Management 30%)
  â€¢ Direct bookings (Stripe): 100% to Management
  â€¢ Booking.com: 100% to Management
  â€¢ VRBO, Agoda, Marriott, etc.: default 100% Management unless set otherwise
- Routing options configurable by Admin:
  â€¢ Airbnb split % customizable
  â€¢ Manual override per booking
  â€¢ Stripe fee calculator (default 5%) deducted from gross amount

ğŸ” Per-Booking Payout Tracker:
- Booking record stores:
  â€¢ Source channel
  â€¢ Total rental income
  â€¢ Routing applied
  â€¢ Actual amounts received
  â€¢ Management fee % (for later profit split)
- Visual flow diagram:
  â€¢ Guest > Platform > Owner + Management (with routing arrows)

ğŸ“„ Admin Controls:
- Set payout logic per OTA & property
- Edit individual reservations if special cases arise
- Generate invoice per booking or per month (to Owner, from Owner, or for internal tracking)

ğŸ“¤ Balance Requests & Payout Workflow:
- If Owner balance > 0:
  â€¢ Button: â€œRequest Balance Payoutâ€
  â€¢ Notification to assigned Portfolio Manager & Admin
  â€¢ Admin/PM clicks: â€œUpload Payment Slipâ€ â†’ triggers confirmation flow
  â€¢ Owner receives: â€œMoney Sentâ€ + button: â€œConfirm Receivedâ€

- If Owner owes money:
  â€¢ Management triggers invoice
  â€¢ Owner uploads slip and clicks â€œMark as Paidâ€

ğŸ§¾ Auto-Logging:
- All actions (payout requests, invoices, confirmations) stored in:
  â€¢ Property timeline
  â€¢ Owner dashboard
  â€¢ Admin ledger

ğŸ“Š Dashboard Analytics:
- Breakdown per period:
  â€¢ Rental income
  â€¢ Commission received
  â€¢ Add-on services per booking
  â€¢ Average nightly rate
  â€¢ Occupancy by source (Airbnb, VRBO, Direct, etc.)
- Graphs: by villa, by platform, by month

ğŸ” Transparency for:
- Referral Agents: 10% net management commission, tracked per month
- Portfolio Managers: 50% of net commission, monthly performance breakdown
- Admin: Total company revenue, per category and partner

ğŸ“… Commission Payout Scheduling:
- Per property: Set payout cycle (monthly, every 2 weeks, etc.)
- Each user sees pending balances, confirmed payouts, and upcoming releases

Benefits:
âœ”ï¸ Flexible payout logic across multiple OTAs  
âœ”ï¸ Real-time financial clarity per stakeholder  
âœ”ï¸ Commission and rental earnings visualized  
âœ”ï¸ Every invoice action logged in matching timeline  
âœ”ï¸ Stripe fees and unusual routing fully tracked
